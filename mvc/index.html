$def with(books)
<html>
<head>
  <meta charset="utf-8" >
  <style type="text/css">
    .form {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .form input {
      width: 90%;
      height: 30px;
      margin: 0.5rem;
    }

    .form button {
      padding: 0.5em 1em;
      border: none;
      background: rgb(100, 200, 255);
      cursor: pointer;
    }
  </style>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
</head>
<body>
	<form method="POST" class="form">
		<label>Nombre del libro</label>
            <input type="text" name="book_name">
            <button type="submit">Buscar</button>
            <br>
        </form>
    </body>
    $if books != None:
        <table class="table table-bordered">
            <tr>
                <th scope="col">Enlaces</th>
                <th scope="col">Titulo del libro</th>
                <th scope="col"> Autor</th>
                <th scope="col">vista previa</th>
            </tr>
        $for book in books:
            <tr>
                <td><a target="blank" href="$book['infolink']">Pula aqui</a></td>
                <td>$book['title']</td>
                <td>$book['authors']</td>
                <td>
                  <img src='$book['thumbnail']'</img>
                </td>
            </tr>
        </table>
</html>